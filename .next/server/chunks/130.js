exports.id=130,exports.ids=[130],exports.modules={4135:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},3411:(e,t,r)=>{Promise.resolve().then(r.bind(r,9733)),Promise.resolve().then(r.bind(r,937))},9733:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Toaster:()=>f});var a=r(5344),o=r(3729),s=r(4664),i=r(5719),d=r(8720),n=r(1453);let u=i.zt,l=o.forwardRef(({className:e,...t},r)=>a.jsx(i.l_,{ref:r,className:(0,n.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l.displayName=i.l_.displayName;let c=(0,d.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=o.forwardRef(({className:e,variant:t,...r},o)=>a.jsx(i.fC,{ref:o,className:(0,n.cn)(c({variant:t}),e),...r}));p.displayName=i.fC.displayName,o.forwardRef(({className:e,...t},r)=>a.jsx(i.aU,{ref:r,className:(0,n.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=i.aU.displayName;let m=o.forwardRef(({className:e,...t},r)=>a.jsx(i.x8,{ref:r,className:(0,n.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(s.Pxu,{className:"h-4 w-4"})}));m.displayName=i.x8.displayName;let y=o.forwardRef(({className:e,...t},r)=>a.jsx(i.Dx,{ref:r,className:(0,n.cn)("text-sm font-semibold [&+div]:text-xs",e),...t}));y.displayName=i.Dx.displayName;let h=o.forwardRef(({className:e,...t},r)=>a.jsx(i.dk,{ref:r,className:(0,n.cn)("text-sm opacity-90",e),...t}));h.displayName=i.dk.displayName;var g=r(9769);function f(){let{toasts:e}=(0,g.pm)();return(0,a.jsxs)(u,{children:[e.map(function({id:e,title:t,description:r,action:o,...s}){return(0,a.jsxs)(p,{...s,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[t&&a.jsx(y,{children:t}),r&&a.jsx(h,{children:r})]}),o,a.jsx(m,{})]},e)}),a.jsx(l,{})]})}},9769:(e,t,r)=>{"use strict";r.d(t,{Am:()=>c,pm:()=>p});var a=r(3729);let o=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],u={toasts:[]};function l(e){u=d(u,e),n.forEach(e=>{e(u)})}function c({...e}){let t=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=a.useState(u);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},1453:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(6815),o=r(9377);function s(...e){return(0,o.m6)((0,a.W)(e))}},5996:(e,t,r)=>{"use strict";r.d(t,{DW:()=>u,OQ:()=>d,g0:()=>n,iJ:()=>i});var a=r(7445),o=r(3962),s=r(8196);let i=(0,a.LC)({reducerPath:"authapi",baseQuery:(0,o.ni)({baseUrl:"http://localhost:5002",credentials:"include"}),endpoints:e=>({loginUser:e.mutation({query:e=>({url:"/user/login",method:"POST",body:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{await r,sessionStorage.setItem("token",(await r).data?.token),await t(s.BG.endpoints.getUser.initiate(null))}catch(e){throw Error(e.message?e.message:"Error occured  while logging in")}}}),registerUser:e.mutation({query:e=>({url:"/user/signup",method:"POST",body:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{await r,sessionStorage.setItem("token",(await r).data?.token),await t(s.BG.endpoints.getUser.initiate(null))}catch(e){throw Error(e.message?e.message:"Error occured  while logging in")}}}),logoutUser:e.mutation({query:()=>({url:"/user/logout",credentials:"include"})})})}),{useLoginUserMutation:d,useLogoutUserMutation:n,useRegisterUserMutation:u}=i},1650:(e,t,r)=>{"use strict";r.d(t,{$B:()=>n,EU:()=>u,q8:()=>l,wk:()=>d});var a=r(7445),o=r(3962),s=r(9769),i=r(5716);let d=(0,a.LC)({reducerPath:"cartapi",baseQuery:(0,o.ni)({baseUrl:"http://localhost:5002",credentials:"include"}),endpoints:e=>({addToCart:e.mutation({query:({pid:e,variant:t})=>({url:"/cart/addToCart",method:"POST",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`},body:{pid:e.toString(),variant:t}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{let e=await r;t((0,i.RV)(e.data.data)),(0,s.Am)({title:"Success",description:"Your product has been added to the cart.",variant:"default",duration:1e3})}catch(e){(0,s.Am)({title:"Error",description:"Failed to add product to cart.",variant:"destructive",duration:1e3})}}}),removeFromCart:e.mutation({query:e=>({url:"/cart/removeFromCart",method:"POST",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`},body:{pid:e.pid.toString(),variant:e.variant}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{let e=await r;t((0,i.RV)(e.data.data)),(0,s.Am)({title:"Success",description:"Your product has been removed from the cart.",variant:"default",duration:1e3})}catch(e){(0,s.Am)({title:"Error",description:"Failed to remove product from cart.",variant:"destructive",duration:1e3})}}}),manipulateQuantity:e.mutation({query:({itemId:e,quantity:t,variant:r})=>({url:"/cart/changeQuantity",method:"POST",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`},body:{pid:e.toString(),quantity:t.toString(),variant:r}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{let e=await r,{status:a,message:o}=e.data;console.log(a,o),400===a?(0,s.Am)({title:"Insufficient Stock",description:o,variant:"destructive",duration:1e3}):(t((0,i.RV)(e.data.data)),(0,s.Am)({title:"Success",description:"The product quantity has been updated in your cart.",variant:"default",duration:1e3}))}catch(e){(0,s.Am)({title:"Error",description:"Failed to update product quantity.",variant:"destructive",duration:1e3})}}})})}),{useAddToCartMutation:n,useRemoveFromCartMutation:u,useManipulateQuantityMutation:l}=d},7145:(e,t,r)=>{"use strict";r.d(t,{Fr:()=>s,NL:()=>d,PS:()=>u,X6:()=>i,oP:()=>c,pp:()=>l,vL:()=>n});var a=r(7445),o=r(3962);let s=(0,a.LC)({reducerPath:"productApi",baseQuery:(0,o.ni)({baseUrl:"http://localhost:5002",credentials:"include"}),endpoints:e=>({getCategories:e.query({query:()=>({url:"category",method:"GET"})}),getProductsWithFilter:e.mutation({query:({category:e,sort:t,pageNumber:r,search:a})=>{let o=`/product?limit=50&page=${r+1}`;return(e&&(o+=`&category=${e}`),t&&(o+=`&sort=${t}`),a?.length)?{url:`/product/search?name=${a}`,method:"GET"}:{url:o,method:"GET"}}}),getProductById:e.query({query:e=>({url:`/product/${e}`,method:"GET"})}),getBestSeller:e.query({query:()=>({url:"/product/bestSellers",method:"GET"})}),getNewArrival:e.query({query:()=>({url:"/product/newProducts",method:"GET"})}),getCategory:e.query({query:()=>({url:"category/",method:"GET"})})})}),{useGetProductsWithFilterMutation:i,useGetCategoriesQuery:d,useGetProductByIdQuery:n,useGetBestSellerQuery:u,useGetNewArrivalQuery:l,useGetCategoryQuery:c}=s},8196:(e,t,r)=>{"use strict";r.d(t,{BG:()=>n,PO:()=>u,QH:()=>m,Us:()=>y,ir:()=>f,kD:()=>p,uZ:()=>g});var a=r(7445),o=r(3962),s=r(9997),i=r(5716),d=r(9769);let n=(0,a.LC)({reducerPath:"userapi",tagTypes:["User"],baseQuery:(0,o.ni)({baseUrl:"http://localhost:5002",credentials:"include"}),endpoints:e=>({getUser:e.query({query:()=>({url:"/user/profile",method:"GET",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{let e=(await r).data.data;e&&(t((0,s.oJ)(!0)),t((0,s.YO)({email:e.email,name:e.name,password:"",address:e.address,profilePhoto:e.profilePhoto,role:e.role}))),await r,await t(n.endpoints.getCart.initiate(null))}catch(e){e?.error.status}}}),getCart:e.query({query:()=>({url:"/cart/myCart",method:"GET",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{t((0,i.RV)((await r).data.data))}catch(e){if(e?.error.status===401){let t=e?.data?.message||"Please log in first";(0,d.Am)({title:t,variant:"destructive",duration:2e3})}}}}),getOrder:e.query({query:()=>({url:"/order/myOrders",method:"GET",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{await r}catch(e){e?.error.status===401&&(0,d.Am)({title:"Please log in first",variant:"default",duration:2e3})}}}),updateProfile:e.mutation({query:e=>({url:"/user/profile",method:"PATCH",body:e,headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}}),async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{await r,await t(n.endpoints.getUser.initiate(null))}catch(e){throw e?.error.status===401&&(0,d.Am)({title:"Please log in first",variant:"destructive",duration:2e3}),Error(e?.error.message?e?.error.message:"Error occurred updating user info.")}}}),logoutUser:e.query({query:()=>({url:"/user/logout",headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}})}),createOrder:e.mutation({query:e=>({url:"/order/createOrder",method:"POST",body:e,headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}})}),acceptPayment:e.mutation({query:e=>({method:"POST",url:"/order/acceptPayment",body:e,headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}})}),verifyPayment:e.mutation({query:e=>({method:"POST",url:"/order/verifyPayment",body:e,headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}})}),userImageupdate:e.query({query:e=>{let t=new FormData;return t.append("profilePhoto",e),{url:"/user/profile/img",method:"PATCH",body:t,headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}}},async onQueryStarted(e,{dispatch:t,queryFulfilled:r}){try{let e=(await r).data.data;t((0,s.oJ)(!0)),t((0,s.YO)({email:e.email,name:e.name,password:"",address:e.address,profilePhoto:e.profilePhoto,role:e.role}))}catch(e){e?.error.status===401&&(0,d.Am)({title:"Please log in first",variant:"destructive",duration:2e3}),console.log(e)}}})})}),{useLazyGetUserQuery:u,useUpdateProfileMutation:l,useLogoutUserQuery:c,useCreateOrderMutation:p,useAcceptPaymentMutation:m,useVerifyPaymentMutation:y,useLazyUserImageupdateQuery:h,useGetCartQuery:g,useGetOrderQuery:f}=n},937:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5344),o=r(6013),s=r(8358),i=r(4150);function d({children:e}){return a.jsx(o.zt,{store:i.h,children:e})}(0,s.p5)(i.h)},9997:(e,t,r)=>{"use strict";r.d(t,{YO:()=>s,dX:()=>i,oJ:()=>o});let a=(0,r(9722).oM)({name:"auth",initialState:{authState:!1,user:{name:"",email:"",password:"",address:[],profilePhoto:"",role:"user"}},reducers:{setAuthState:(e,t)=>{e.authState=t.payload},setAuthUser:(e,t)=>{e.user.email=t.payload.email,e.user.name=t.payload.name,e.user.address=t.payload.address,e.user.profilePhoto=t.payload.profilePhoto,e.user.address=t.payload.address,e.user.role=t.payload.role}}}),{setAuthState:o,setAuthUser:s}=a.actions,i=a.reducer},5716:(e,t,r)=>{"use strict";r.d(t,{RV:()=>d,ZP:()=>o});let a=(0,r(9722).oM)({name:"Cart",initialState:{products:{},deliveryCharges:0,gst:0,totalQuantity:0,totalPrice:0,payablePrice:0,address:[]},reducers:{addToCart(e,t){let{product:r,variant:a}=t.payload,o=`${r.pid}${a.color}`.replace(/\./g,"_");o in e.products?e.products[o].quantity++:e.products[o]={product:r,quantity:1,variant:a},e.totalQuantity++,e.totalPrice+=r.price,e.deliveryCharges=59,e.gst=Math.round(.04*e.totalPrice+Number.EPSILON),e.payablePrice=e.totalPrice+e.deliveryCharges+e.gst},updateQtyInCart(e,t){let{id:r,operation:a}=t.payload,o=e.products[r].quantity;switch(a){case"increment":e.products[r].quantity++;break;case"decrement":o>1?e.products[r].quantity--:delete e.products[r];break;default:console.log("Invalid Operation!")}e.totalQuantity=Object.values(e.products).reduce((e,t)=>e+t.quantity,0),e.totalPrice=Object.values(e.products).reduce((e,t)=>e+t.product.price*t.quantity,0)},setCart(e,t){e.deliveryCharges=t.payload.deliveryCharges||0,e.gst=t.payload.gst||0,e.payablePrice=t.payload.payablePrice||0,e.products=t.payload.products||{},e.totalPrice=t.payload.totalPrice||0,e.totalQuantity=t.payload.totalQuantity||0}}}),o=a.reducer,{addToCart:s,updateQtyInCart:i,setCart:d}=a.actions},772:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i,y$:()=>d});var a=r(9722);let o={shippingAddress:null,paymentId:"1313",status:"Order Placed"},s=(0,a.oM)({name:"Cart",initialState:o,reducers:{addAddress(e,t){e.shippingAddress=t.payload},setPaymentMethod(e,t){e.paymentId=t.payload},resetOrderDetails:e=>o}}),i=s.reducer,{addAddress:d,resetOrderDetails:n,setPaymentMethod:u}=s.actions},4150:(e,t,r)=>{"use strict";r.d(t,{h:()=>O,TL:()=>E,CG:()=>A});var a=r(7836),o=r(9722),s=r(6013),i=r(9997),d=r(5716),n=r(5996),u=r(8196),l=r(7145),c=r(1650),p=r(7445),m=r(3962);let y=(0,p.LC)({reducerPath:"adminapi",baseQuery:(0,m.ni)({baseUrl:"http://localhost:5002",credentials:"include"}),tagTypes:["Users","Products","Orders"],endpoints:e=>({getUsers:e.query({query:()=>"/users",providesTags:["Users"]}),deleteUser:e.mutation({query:e=>({url:`users/${e}`,method:"DELETE"})}),addProduct:e.mutation({query:({productInfo:e,images:t})=>{let r=new FormData;if(r.append("productName",e.productName),r.append("description",e.description?e.description:""),r.append("category",e.category?JSON.stringify(e.category):""),r.append("price",e.price?String(e.price):"0"),r.append("qtyavailabele",e.qtyavailable?String(e.qtyavailable):"0"),null!==t)for(let e=0;e<t.length;e++)r.append("images",t[e],t[e].name);return{url:"/products",method:"POST",transformResponse:e=>JSON.parse(e).id,body:r}}}),editProduct:e.mutation({query:e=>({url:`/products/${e}`,method:"PATCH"})}),editProductImgs:e.query({async queryFn(e){let t=new FormData;for(let r=0;r<e.length;r++){let a=e[r];a.name||(a=new File([a],"filename",{type:a.type})),t.append("images",a,a.name)}let r=await fetch("/upload",{body:t}).then(e=>e.json());return r.data?r.data:void 0}}),deleteProduct:e.mutation({query:e=>({url:`/products/${e}`,method:"DELETE"})}),getAllOrders:e.mutation({query:()=>({url:"/orders",method:"GET"})}),searchOrderById:e.mutation({query:e=>({url:`/searchOrder/${e}`,method:"GET"})}),updateOrderStatus:e.mutation({query:e=>({url:`/updateOrderStatus?id=${e.order_id}&status=${e.status}`})})})}),{useDeleteProductMutation:h,useAddProductMutation:g,useDeleteUserMutation:f,useEditProductImgsQuery:v,useEditProductMutation:P,useGetAllOrdersMutation:S,useGetUsersQuery:w,useSearchOrderByIdMutation:x,useUpdateOrderStatusMutation:b}=y;var T=r(772);let q=(0,a.UY)({[n.iJ.reducerPath]:n.iJ.reducer,[u.BG.reducerPath]:u.BG.reducer,[l.Fr.reducerPath]:l.Fr.reducer,[c.wk.reducerPath]:c.wk.reducer,[y.reducerPath]:y.reducer,order:T.ZP,auth:i.dX,cart:d.ZP}),O=(0,o.xC)({reducer:q,middleware:e=>e({serializableCheck:!1}).concat([n.iJ.middleware,u.BG.middleware,l.Fr.middleware,c.wk.middleware,y.middleware])}),E=()=>(0,s.I0)(),A=s.v9},602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,dynamic:()=>c,metadata:()=>p});var a=r(5036),o=r(2426),s=r.n(o);r(5023);let i=(0,r(6843).createProxy)(String.raw`/Users/harshitagarwal/Harshit Vscode/Gannu/Frontend/src/redux/redux-povide.tsx`),{__esModule:d,$$typeof:n}=i,u=i.default;var l=r(5892);let c="force-dynamic",p={title:"Loom n Bloom",description:"Generated by create next app"};function m({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[a.jsx("head",{children:a.jsx("link",{rel:"icon",href:"/favicon.ico"})}),(0,a.jsxs)("body",{className:s().className+"bg-white",children:[a.jsx(u,{children:e}),a.jsx(l.x,{})]})]})}},5892:(e,t,r)=>{"use strict";r.d(t,{x:()=>d});var a=r(6843);let o=(0,a.createProxy)(String.raw`/Users/harshitagarwal/Harshit Vscode/Gannu/Frontend/src/components/ui/toaster.tsx`),{__esModule:s,$$typeof:i}=o;o.default;let d=(0,a.createProxy)(String.raw`/Users/harshitagarwal/Harshit Vscode/Gannu/Frontend/src/components/ui/toaster.tsx#Toaster`)},5023:()=>{}};